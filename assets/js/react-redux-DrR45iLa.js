import"./use-sync-external-store-BX9IGepd.js";var s="default"in React?React.default:React,v=Symbol.for("react-redux-context"),x=typeof globalThis<"u"?globalThis:{};function m(){if(!s.createContext)return{};const e=x[v]??(x[v]=new Map);let i=e.get(s.createContext);return i||(i=s.createContext(null),e.set(s.createContext,i)),i}var w=m();function R(e){e()}function N(){let e=null,i=null;return{clear(){e=null,i=null},notify(){R(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const t=i={callback:r,next:null,prev:i};return t.prev?t.prev.next=t:e=t,function(){!n||e===null||(n=!1,t.next?t.next.prev=t.prev:i=t.prev,t.prev?t.prev.next=t.next:e=t.next)}}}}var S={notify(){},get:()=>[]};function E(e,i){let r,n=S,t=0,o=!1;function c(C){b();const h=n.subscribe(C);let p=!1;return()=>{p||(p=!0,h(),d())}}function a(){n.notify()}function l(){f.onStateChange&&f.onStateChange()}function u(){return o}function b(){t++,r||(r=e.subscribe(l),n=N())}function d(){t--,r&&t===0&&(r(),r=void 0,n.clear(),n=S)}function y(){o||(o=!0,b())}function g(){o&&(o=!1,d())}const f={addNestedSub:c,notifyNestedSubs:a,handleChangeWrapper:l,isSubscribed:u,trySubscribe:y,tryUnsubscribe:g,getListeners:()=>n};return f}var L=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",M=typeof navigator<"u"&&navigator.product==="ReactNative",U=L||M?s.useLayoutEffect:s.useEffect,P=e=>{};function T({store:e,context:i,children:r,serverState:n,stabilityCheck:t="once",identityFunctionCheck:o="once"}){const c=s.useMemo(()=>{const u=E(e);return{store:e,subscription:u,getServerState:n?()=>n:void 0,stabilityCheck:t,identityFunctionCheck:o}},[e,n,t,o]),a=s.useMemo(()=>e.getState(),[e]);U(()=>{const{subscription:u}=c;return u.onStateChange=u.notifyNestedSubs,u.trySubscribe(),a!==e.getState()&&u.notifyNestedSubs(),()=>{u.tryUnsubscribe(),u.onStateChange=void 0}},[c,a]);const l=i||w;return s.createElement(l.Provider,{value:c},r)}var z=T;P(React.useSyncExternalStore);export{z as P};
